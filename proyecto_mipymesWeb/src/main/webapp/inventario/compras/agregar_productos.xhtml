<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<f:facet name="first">
		<meta name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no" />
		<title>Agregar Productos</title>
	</f:facet>
	<style>
/* reset on the showcase style*/
body .ui-panelgrid .ui-panelgrid-cell {
	background-color: transparent;
}

/* example use of styles for your form */
.my-heading-row {
	background-color: var(- -surface-c);
	font-weight: bold;
}
</style>
</h:head>
<body>
	<p:growl>
		<p:autoUpdate></p:autoUpdate>
	</p:growl>
	<h:form id="form0">
		<p:menubar>
			<p:menuitem value="Regresar" icon="pi pi-home"
				outcome="/login?faces-redirect=true">
				<f:param name="i" value="0" />
			</p:menuitem>
			<p:menuitem value="Inicio" outcome="index_compras" icon="pi pi-home">
				<f:param name="i" value="1" />
			</p:menuitem>
			<p:menuitem value="Ventas Normales" icon="pi pi-users"
				outcome="/inventario/ventas/index_ventas">
				<f:param name="i" value="2" />
			</p:menuitem>

			<p:menuitem value="Ventas por Anticipos" icon="pi pi-slack"
				outcome="/inventario/ventas_anticipos/index_anticipos">
				<f:param name="i" value="3" />
			</p:menuitem>
			<f:facet name="options">
				<p:menuButton value="masalazara@utn.edu.ec" icon="pi pi-user">
					<p:menuitem value="Perfil" icon="pi pi-cog"></p:menuitem>
					<p:menuitem value="Cerrar sesiÃ³n" icon="pi pi-sign-out"
						outcome="/login"></p:menuitem>
				</p:menuButton>
			</f:facet>
		</p:menubar>
	</h:form>
	<div align="center">
		<p:steps activeIndex="1">
			<p:menuitem value="Agregar Proveedor" />
			<p:menuitem value="Agregar Productos para Compras" />
			<p:menuitem value="Ver compras de Productos" />
			<p:menuitem value="Enviar Pedido de Productos" />
		</p:steps>
	</div>
	<h:form id="form1">
		<div align="center">
			<p:panel header="Agregar Productos para el Pedido">
				<p:panelGrid columns="2">
					<p:commandButton value="Agregar un Producto Existente"
						update=":form3:manage-product-content3"
						oncomplete="PF('manageProductDialog3').show()" icon="fa fa-plus">
						<p:resetInput target=":form3:manage-product-content3" />
					</p:commandButton>
					<p:commandButton value="Agregar Nuevo Producto" icon="fa fa-plus"
						update=":form2:manage-product-content2"
						oncomplete="PF('manageProductDialog2').show()"
						styleClass="ui-button-success">
						<p:resetInput target=":form2:manage-product-content2" />
					</p:commandButton>
				</p:panelGrid>
			</p:panel>
		</div>
	</h:form>
	<h:form id="form2">
		<div align="center">
			<p:dialog header="Ingresar un Nuevo Producto" showEffect="fade"
				modal="true" widgetVar="manageProductDialog2" responsive="true">
				<p:outputPanel id="manage-product-content2" class="ui-fluid">

					<div align="center">

						<p:fieldset legend="Ingresar Datos del Producto" toggleable="true"
							collapsed="true">

							<div class="p-field">
								<p:outputLabel for="name">Nombre del Producto</p:outputLabel>
								<p:inputText id="name" value="#{beanCompras.nombre_producto}"
									required="true" />
							</div>
							<div class="p-field">
								<p:outputLabel for="description">Descripcion del Producto</p:outputLabel>
								<p:inputTextarea id="description"
									value="#{beanCompras.descripcion_producto}" />
							</div>

							<div class="p-formgrid p-grid">
								<div class="p-field p-col">
									<p:outputLabel for="price">Precio del Producto</p:outputLabel>
									<p:inputNumber id="price"
										value="#{beanCompras.precio_unitario}" symbol=" USD"
										symbolPosition="s" decimalSeparator="." thousandSeparator="," />
								</div>
								<div class="p-field p-col">
									<p:outputLabel for="quantity">Cantidad de Productos</p:outputLabel>
									<p:spinner id="quantity" min="5" max="50"
										value="#{beanCompras.cantidad}" />
								</div>
							</div>

							<div align="center">
								<br />
								<div align="center">
									<p:row>
										<p:commandButton value="Ingresar el Producto"
											styleClass="ui-button-success" style="width: auto"
											icon="fa fa-save" />
									</p:row>
								</div>
							</div>
						</p:fieldset>
					</div>
				</p:outputPanel>

			</p:dialog>
		</div>
	</h:form>

	<h:form id="form3">
		<div align="center">
			<p:dialog header="Ingresar un Nuevo Producto" showEffect="fade"
				modal="true" widgetVar="manageProductDialog3" responsive="true">
				<p:outputPanel id="manage-product-content3" class="ui-fluid">
					<p:dataTable value="#{beanCompras.listaProductos}" var="producto">
						<p:column headerText="Nombre Producto"
							sortBy="#{producto.prodNombre}" filterBy="#{producto.prodNombre}">
							<h:outputText value="#{producto.prodNombre}" />
						</p:column>
						<p:column headerText="Codigo de Producto"
							sortBy="#{producto.prodCodigo}" filterBy="#{producto.prodCodigo}">
							<h:outputText value="#{producto.prodCodigo}" />
						</p:column>
						<p:column headerText="Precio Unitario"
							sortBy="#{producto.prodPvproveedor}"
							filterBy="#{producto.prodPvproveedor}">
							<h:outputText value="#{producto.prodPvproveedor}" />
						</p:column>
						<p:column headerText="Cantidad Existente"
							sortBy="#{producto.prodCantidad}"
							filterBy="#{producto.prodCantidad}">
							<h:outputText value="#{producto.prodCantidad}" />
						</p:column>
						<p:column headerText="Opciones">
							<p:commandButton value="Agregar Producto" icon="fa fa-cart-plus"
								update=":form4:manage-product-content4"
								oncomplete="PF('manageProductDialog4').show()"
								styleClass="ui-button-success">
								<p:resetInput target=":form4:manage-product-content4" />
							</p:commandButton>

						</p:column>
					</p:dataTable>

				</p:outputPanel>

			</p:dialog>
		</div>
	</h:form>

	<h:form id="form4">
		<div align="center">
			<p:dialog header="Ingresar la cantidad de Productos"
				showEffect="fade" modal="true" widgetVar="manageProductDialog4"
				responsive="true">
				<p:outputPanel id="manage-product-content4" class="ui-fluid">
					<p:panelGrid columns="2">
						<h:outputText value="Ingresar la cantidad:" />
						<p:spinner id="quantity" min="5" max="50"
							value="#{beanCompras.cantidad}" />
					</p:panelGrid>
					<br />
					<div align="center">
						<p:commandButton value="Ingresar el Producto"
							styleClass="ui-button-success" style="width: auto"
							oncomplete="PF('manageProductDialog4').hide()" icon="fa fa-check" />
					</div>
				</p:outputPanel>

			</p:dialog>
		</div>
	</h:form>


	<h:form id="form5">
		<div align="center">
			<p:panel header="Productos Agregados">
				<p:dataTable value="#{beanCompras.listaDetalleCompras}"
					var="detalleCompras" paginator="true" rows="5">
					<p:column headerText="Codigo de Producto"
						sortBy="#{detalleCompras.detcompCodigoProducto}"
						filterBy="#{detalleCompras.detcompCodigoProducto}">
						<h:outputText value="#{detalleCompras.detcompCodigoProducto}" />
					</p:column>
					<p:column headerText="Nombre Producto"
						sortBy="#{detalleCompras.detcompNombreProducto}"
						filterBy="#{detalleCompras.detcompNombreProducto}">
						<h:outputText value="#{producto.prodNombre}" />
					</p:column>

					<p:column headerText="Precio Unitario"
						sortBy="#{detalleCompras.detcompPrecioUnit}"
						filterBy="#{detalleCompras.detcompPrecioUnit}">
						<h:outputText value="#{detalleCompras.detcompPrecioUnit}" />
					</p:column>

					<p:column headerText="Precio Total"
						sortBy="#{detalleCompras.detcompPrecioTotal}"
						filterBy="#{detalleCompras.detcompPrecioTotal}">
						<h:outputText value="#{detalleCompras.detcompPrecioTotal}" />
					</p:column>
					<p:column headerText="Cantidad de Productos"
						sortBy="#{detalleCompras.detcompCantidad}"
						filterBy="#{detalleCompras.detcompCantidad}">
						<h:outputText value="#{detalleCompras.detcompCantidad}" />
					</p:column>
					<p:column headerText="Opciones">
						<p:commandButton value="Editar Producto" icon="fa fa-edit"
							styleClass="ui-button-success">
						</p:commandButton>

						<p:commandButton value="Eliminar Producto" icon="fa fa-times"
							styleClass="ui-button-danger">
						</p:commandButton>

					</p:column>
				</p:dataTable>
			</p:panel>
			<br />
			<div align="center">
				<p:commandButton value="Generar Compras de los Productos" action="viewcompras"
					styleClass="ui-button-success" style="width: auto" icon="fa fa-check" />
			</div>
		</div>
	</h:form>

</body>
</html>
