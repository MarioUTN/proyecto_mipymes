<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<f:facet name="first">
		<meta name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no" />
		<title>Clientes</title>
	</f:facet>
</h:head>
<body>
	<p:growl>
		<p:autoUpdate></p:autoUpdate>
	</p:growl>
	<h:form id="form0">
		<p:menubar style="background-color: #5DADE2;">
			<p:menuitem value="Regresar" icon="fa fa-arrow-circle-left"
				outcome="/login?faces-redirect=true">
				<f:param name="i" value="0" />
			</p:menuitem>
			<p:menuitem value="Inicio"
				outcome="/seguridades/administrador/menu_administrador"
				icon="fa fa-home">
				<f:param name="i" value="1" />
			</p:menuitem>
			<p:submenu label="Ventas" icon="fa fa-calendar-plus-o">
				<p:menuitem value="Ventas Normales" icon="fa fa-shopping-cart"
					outcome="/inventario/ventas/index_ventas">
					<f:param name="i" value="2" />
				</p:menuitem>
				<p:menuitem value="Ventas por Anticipos"
					icon="fa fa-cart-arrow-down"
					outcome="/inventario/ventas_anticipos/index_anticipos">
					<f:param name="i" value="3" />
				</p:menuitem>
			</p:submenu>

			<p:menuitem value="Compras de Productos" icon="fa fa-cart-plus"
				outcome="/inventario/compras/index_compras">
				<f:param name="i" value="4" />
			</p:menuitem>

			<p:menuitem value="Clientes" icon="fa fa-users"
				outcome="/talentohumano/clientes/menu_clientes">
				<f:param name="i" value="5" />
			</p:menuitem>

			<p:menuitem value="Vendedores" icon="fa fa-group"
				disabled="#{beanUsuarios.usuario.tipoUsuario.idTipoUsuario!=1}"
				outcome="/talentohumano/vendedores/menu_vendedores">
				<f:param name="i" value="6" />
			</p:menuitem>

			<p:menuitem value="Facturas" icon="fa fa-file-text"
				disabled="#{beanUsuarios.usuario.tipoUsuario.idTipoUsuario!=1}"
				outcome="/inventario/facturas/menu_facturas">
				<f:param name="i" value="7" />
			</p:menuitem>

			<p:menuitem value="Productos" icon="fa fa-cubes"
				disabled="#{beanUsuarios.usuario.tipoUsuario.idTipoUsuario!=1}"
				outcome="/inventario/productos/menu_productos">
				<f:param name="i" value="8" />
			</p:menuitem>


			<p:menuitem value="Proveedores" icon="fa fa-address-card"
				disabled="#{beanUsuarios.usuario.tipoUsuario.idTipoUsuario!=1}"
				outcome="/inventario/compras/Proveedor">
				<f:param name="i" value="9" />
			</p:menuitem>
			
			<f:facet name="options">
				<p:menuButton value="#{beanUsuarios.usuario.idUsuario}"
					icon="fa fa-user">
					<p:menuitem value="Perfil" icon="fa fa-cog"></p:menuitem>
					<p:menuitem value="Cerrar sesión" icon="fa fa-sign-out"
						outcome="/login"></p:menuitem>
				</p:menuButton>
			</f:facet>
		</p:menubar>
	</h:form>
	<div align="center">
		<p:commandButton value="Registrar nuevo cliente" icon="fa fa-plus"
			update=":form2:manage-product-content2"
			oncomplete="PF('manageProductDialog2').show()"
			styleClass="ui-button-success">
			<p:resetInput target=":form2:manage-product-content2" />
		</p:commandButton>
	</div>
	<h:form id="form2">
		<div align="center">
			<p:dialog header="Ingresar datos del cliente" showEffect="fade"
				modal="true" widgetVar="manageProductDialog2" responsive="true">
				<p:outputPanel id="manage-product-content2" class="ui-fluid">

					<div align="center">
						<p:panel>
							<p:panelGrid columns="4"
								columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
								layout="grid" styleClass="ui-panelgrid-blank ui-fluid"
								style="border:0px none; background-color:transparent;">

								<p:outputLabel for="@next" value="Cédula: " />
								<p:inputText id="a" placeholder="Cédula" required="true"
									requiredMessage="Ingrese el número de cédula"
									value="#{beanClientes.clienteDTO.cedulaC}">
									<p:tooltip for="a" value="Cédula" position="bottom" />
								</p:inputText>
								<p:outputLabel for="@next" value="Nombres: " />
								<p:inputText id="b" placeholder="Nombres"
									value="#{beanClientes.clienteDTO.nombresC}" required="true"
									requiredMessage="Ingrese sus nombres!">
									<p:tooltip for="b" value="Ingrese sus nombres!"
										position="bottom" />
								</p:inputText>

								<p:outputLabel for="@next" value="Apellidos: " />
								<p:inputText id="c" placeholder="Apellidos"
									value="#{beanClientes.clienteDTO.apellidosC}" required="true"
									requiredMessage="Ingrese sus Apellidos!">
									<p:tooltip for="c" value="Ingrese sus Apellidos"
										position="bottom" />
								</p:inputText>



								<p:outputLabel for="@next" value="Email " />
								<p:inputText id="d" placeholder="Email"
									value="#{beanClientes.clienteDTO.emailC}" required="true"
									requiredMessage="Ingrese su email!!">
									<p:tooltip for="d" value="Ingrese su email!" position="bottom" />
								</p:inputText>



								<p:outputLabel for="@next" value="Teléfono: " />
								<p:inputText id="e" placeholder="0989061898"
									value="#{beanClientes.clienteDTO.telefonoC}" required="true"
									requiredMessage="Ingrese el teléfono!">
									<p:tooltip for="e" value="Ingrese su numero de teléfono"
										position="bottom" />
								</p:inputText>

								<p:outputLabel for="@next" value="Dirección: " />
								<p:inputText id="f" placeholder="Dirección"
									value="#{beanClientes.clienteDTO.direccionC}">
									<p:tooltip for="f" value="Dirección" position="bottom" />
								</p:inputText>

							</p:panelGrid>
						</p:panel>
						<div align="center">
							<p:panel>
								<div align="center">
									<p:row>
										<p:commandButton value="Guardar Datos" update="formtable"
											styleClass="ui-button-success" style="width: auto"
											actionListener="#{beanClientes.actionListenerRegistrarCliente()}"
											icon="fa fa-save" />
									</p:row>
								</div>
							</p:panel>
						</div>
					</div>
				</p:outputPanel>

			</p:dialog>
		</div>
	</h:form>
	
	<h:form id="formtable">
		<p:panel header="Información">
			<p:dataTable value="#{beanClientes.listaClientes}"
				stripedRows="true" var="detalle" paginator="true" reflow="true"
				rows="7" style="font-size: 12px" paginatorPosition="bottom">

				<p:column headerText="Cédula" style="width:80px">
					<h:outputText value="#{detalle.cliRucCedula}" />
				</p:column>
				<p:column headerText="Nombres" style="width:80px">
					<h:outputText value="#{detalle.usuario.usNombres}" />
				</p:column>
				<p:column headerText="Apellidos" style="width:80px">
					<h:outputText value="#{detalle.usuario.usApellidos}" />
				</p:column>
				<p:column headerText="Teléfono">
					<h:outputText value="#{detalle.cliTelefono}" />
				</p:column>
				<p:column headerText="Email">
					<h:outputText value="#{detalle.cliEmail}" />
				</p:column>
				<p:column headerText="Dirección">
					<h:outputText value="#{detalle.cliDireccion}" />
				</p:column>
				<p:column headerText="Estado">
					<p:commandButton icon="#{beanUsuarios.iconoVendedor(detalle.usuario.usActivo)}" value="#{beanUsuarios.estado(detalle.usuario.usActivo)}"
									actionListener="#{beanUsuarios.actionListenerActualizarEstadoCliente(detalle)}"
									styleClass="#{beanUsuarios.style(detalle.usuario.usActivo)}" update=":formtable"/>
				</p:column>
				<p:column headerText="Opciones">
					<p:commandButton icon="fa fa-edit" onclick="PF('dlg3').show()"
						actionListener="#{beanClientes.actionListenerSeleccionarCliente(detalle.idCliente)}"
						update=":formEditarPro"
						styleClass="rounded-button ui-button-success">
					</p:commandButton>
					
				</p:column>
			</p:dataTable>
		</p:panel>
	</h:form>
	<p:dialog header="Editar Vendedor" widgetVar="dlg3" minHeight="700"
		width="900" showEffect="fade">
		<h:form id="formEditarPro">
			<p:panelGrid columns="4"
				columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
				layout="grid" styleClass="ui-panelgrid-blank ui-fluid"
				style="border:0px none; background-color:transparent;">

				<p:outputLabel for="@next" value="Cédula: " />
				<p:inputText id="a" placeholder="Cédula" required="true"
					requiredMessage="Ingrese el número de cédula"
					value="#{beanClientes.clienteSeleccionado.cliRucCedula}">
					<p:tooltip for="a" value="Cédula" position="bottom" />
				</p:inputText>
				<p:outputLabel for="@next" value="Nombres: " />
				<p:inputText id="b" placeholder="Nombres"
					value="#{beanClientes.clienteSeleccionado.usuario.usNombres}" required="true"
					requiredMessage="Ingrese sus nombres!">
					<p:tooltip for="b" value="Ingrese sus nombres!" position="bottom" />
				</p:inputText>

				<p:outputLabel for="@next" value="Apellidos: " />
				<p:inputText id="c" placeholder="Apellidos"
					value="#{beanClientes.clienteSeleccionado.usuario.usApellidos}"
					required="true" requiredMessage="Ingrese sus Apellidos!">
					<p:tooltip for="c" value="Ingrese sus Apellidos" position="bottom" />
				</p:inputText>
				<p:outputLabel for="@next" value="Email " />
				<p:inputText id="d" placeholder="Email"
					value="#{beanClientes.clienteSeleccionado.cliEmail}" required="true"
					requiredMessage="Ingrese su email!!">
					<p:tooltip for="d" value="Ingrese su email!" position="bottom" />
				</p:inputText>

				<h:outputText value="Contraseña:" />
				<p:password value="#{beanClientes.password}"
					required="true" requiredMessage="Ingrese la contraseña"
					placeholder="**********" feedback="false" />
					
					<h:outputText value="Confirmar Contraseña:" />
				<p:password value="#{beanClientes.conf_password}"
					required="true" requiredMessage="Ingrese la contraseña"
					placeholder="**********" feedback="false" />

				<p:outputLabel for="@next" value="Teléfono: " />
				<p:inputText id="e" placeholder="0989061898"
					value="#{beanClientes.clienteSeleccionado.cliTelefono}" required="true"
					requiredMessage="Ingrese el teléfono!">
					<p:tooltip for="e" value="Ingrese su numero de teléfono"
						position="bottom" />
				</p:inputText>

				<p:outputLabel for="@next" value="Dirección: " />
				<p:inputText id="f" placeholder="Dirección"
					value="#{beanClientes.clienteSeleccionado.cliDireccion}">
					<p:tooltip for="f" value="Dirección" position="bottom" />
				</p:inputText>
			</p:panelGrid>
			<div align="center">
				<p:panel>
					<div align="center">
						<p:row>
							<p:commandButton value="Editar Datos"
								styleClass="ui-button-success" style="width: auto" actionListener="#{beanClientes.actionListenerUpdateClient()}"
								update=":formtable" onclick="PF('dlg3').hide()"
								icon="fa fa-save" />
						</p:row>
					</div>
				</p:panel>
			</div>
		</h:form>

	</p:dialog>
	
	
	
</body>
</html>
